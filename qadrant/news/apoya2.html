<!DOCTYPE html>
<html>
  <head>
    <title>Agradecer a Qadrant</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS (ya lo usabas) -->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />

    <style>
      body { margin-top: 10px; background: #f6f6f6; }
      .wrap { max-width: 520px; margin: 0 auto; }
      .card {
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,.08);
        background: #ffffff;
        padding: 16px;
      }
      .hero {
        border-radius: 10px;
        background: #baa9ba;
        color: #ffffff;
        padding: 16px;
        margin-bottom: 12px;
      }
      .hero h3 { margin: 0 0 6px 0; font-weight: 700; }
      .muted { color: #66615b; }
      .bizum-number {
        font-size: 26px;
        font-weight: 800;
        letter-spacing: 1px;
        margin: 8px 0 10px 0;
        color: #2b2b2b;
      }
      .pill {
        display: inline-block;
        background: #f2f2f2;
        border-radius: 999px;
        padding: 2px 10px;
        font-size: 12px;
        margin: 0 6px 6px 0;
      }
      .btn-block + .btn-block { margin-top: 8px; }
      .qr {
        background: #fafafa;
        border: 1px solid #eee;
        border-radius: 10px;
        padding: 12px;
        text-align: center;
      }
      .qr img { max-width: 220px; width: 100%; height: auto; border-radius: 8px; }
      .hr { height: 1px; background: #eee; margin: 14px 0; }
      .toast {
        display: none;
        margin-top: 10px;
        padding: 10px 12px;
        border-radius: 8px;
        background: #e8f5e9;
        border: 1px solid #c8e6c9;
        color: #1b5e20;
        font-weight: 600;
      }
      .small { font-size: 12px; color: #777; }
      .amounts .btn { margin: 0 6px 6px 0; }
      .signature { margin-top: 12px; color: #546E7A; }
      .signature strong { color: #37474F; }
    </style>
  </head>

  <body>
    <div class="container wrap">
      <div class="card">

        <div class="hero">
          <h3>Qadrant <span id="year"></span></h3>
          <div>Si te ahorra tiempo, puedes echar una mano para que siga <strong>sin anuncios</strong> y con mejoras.</div>
        </div>

        <p class="muted" style="margin-bottom:8px;">
          Mantener la app en <strong>Play Store</strong>, corregir fallos y seguir mejorando requiere horas de desarrollo y pruebas.
          Un detalle peque√±o (un caf√© ‚òï) marca la diferencia.
        </p>

        <div>
          <span class="pill">‚úÖ Sin anuncios</span>
          <span class="pill">‚úÖ Actualizaciones</span>
          <span class="pill">‚úÖ Correcciones y mejoras</span>
        </div>

        <div class="hr"></div>

        <h4 style="margin-top:0;">Bizum</h4>
        <div class="bizum-number" id="bizumNumber">677 527 817</div>

        <p class="muted" style="margin-bottom:8px;">
          Concepto recomendado: <strong id="bizumConcept">Qadrant</strong>
        </p>

        <div class="amounts" style="margin-bottom:6px;">
          <div class="small" style="margin-bottom:6px;">Importe sugerido:</div>
          <button class="btn btn-default" onclick="suggestAmount('2‚Ç¨')">2‚Ç¨</button>
          <button class="btn btn-default" onclick="suggestAmount('5‚Ç¨')">5‚Ç¨</button>
          <button class="btn btn-default" onclick="suggestAmount('10‚Ç¨')">10‚Ç¨</button>
        </div>

        <button class="btn btn-primary btn-block" onclick="copyNumber()">Copiar n√∫mero Bizum</button>
        <button class="btn btn-default btn-block" onclick="copyConcept()">Copiar concepto</button>

        <div class="toast" id="toast"></div>

        <div style="margin-top:12px;" class="qr">
          <div class="small" style="margin-bottom:8px;">
            Escanea este QR para copiar r√°pido el n√∫mero (si tu banco no admite QR, usa ‚ÄúCopiar‚Äù).
          </div>
          <img id="qrImg" alt="QR Bizum" />
          <div class="small" style="margin-top:8px;">
            Tip: Bizum ‚Üí Enviar dinero ‚Üí Pega el n√∫mero ‚Üí (Concepto) Qadrant
          </div>
        </div>

        <div class="hr"></div>

        <h4 style="margin-top:0;">¬øNo puedes aportar ahora? Ayuda igualmente</h4>
        <button class="btn btn-success btn-block" onclick="openPlayStore()">Valorar en Play Store ‚≠ê</button>
        <button class="btn btn-info btn-block" onclick="shareApp()">Compartir con un compa√±ero</button>

        <div class="signature">
          <br />
          Atentamente,<br />
          <strong>Francisco Quintana</strong>
        </div>

        <div class="small" style="margin-top:10px;">
          Gracias por usar Qadrant y por cualquier gesto (Bizum, valoraci√≥n o difusi√≥n). üôå
        </div>
      </div>
    </div>

    <script>
      // CONFIG
      // Ojo: cambia APP_ID si tu id real en Play Store es distinto.
      var APP_ID = "qadrandroid.fq.org";
      var BIZUM_RAW = "677527817"; // sin espacios
      var CONCEPT = "Qadrant";

      document.getElementById("year").textContent = new Date().getFullYear();

      // QR simple (codifica el n√∫mero para copiarlo r√°pido)
      // Si prefieres un QR "offline" (sin depender de internet), d√≠melo y te lo dejo embebido.
      var qrUrl = "https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=" + encodeURIComponent(BIZUM_RAW);
      document.getElementById("qrImg").src = qrUrl;

      function showToast(msg) {
        var t = document.getElementById("toast");
        t.textContent = msg;
        t.style.display = "block";
        clearTimeout(window.__toastTimer);
        window.__toastTimer = setTimeout(function () {
          t.style.display = "none";
        }, 2500);
      }

      function copyText(text) {
        // Moderno
        if (navigator.clipboard && navigator.clipboard.writeText) {
          return navigator.clipboard.writeText(text);
        }
        // Fallback WebView antiguo
        return new Promise(function (resolve, reject) {
          try {
            var ta = document.createElement("textarea");
            ta.value = text;
            ta.setAttribute("readonly", "");
            ta.style.position = "absolute";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.select();
            var ok = document.execCommand("copy");
            document.body.removeChild(ta);
            if (ok) resolve();
            else reject(new Error("copy failed"));
          } catch (e) {
            reject(e);
          }
        });
      }

      function copyNumber() {
        copyText(BIZUM_RAW)
          .then(function () { showToast("N√∫mero copiado ‚úÖ"); })
          .catch(function () { showToast("No pude copiar autom√°ticamente. Copia el n√∫mero manualmente."); });
      }

      function copyConcept() {
        copyText(CONCEPT)
          .then(function () { showToast("Concepto copiado ‚úÖ"); })
          .catch(function () { showToast("No pude copiar autom√°ticamente. Copia el concepto manualmente."); });
      }

      function suggestAmount(a) {
        showToast("Importe sugerido: " + a + " (ponlo en Bizum)");
      }

      function openPlayStore() {
        // Mejor enlace universal (funciona dentro/fuera de WebView)
        var url = "https://play.google.com/store/apps/details?id=" + encodeURIComponent(APP_ID);
        window.location.href = url;
      }

      function shareApp() {
        var url = "https://play.google.com/store/apps/details?id=" + encodeURIComponent(APP_ID);
        var text = "Yo uso Qadrant para el cuadrante. Si te viene bien, aqu√≠ est√°: " + url;

        if (navigator.share) {
          navigator.share({ title: "Qadrant", text: text, url: url }).catch(function(){});
        } else {
          copyText(text)
            .then(function () { showToast("Texto para compartir copiado ‚úÖ"); })
            .catch(function () { showToast("Copia y comparte este enlace: " + url); });
        }
      }
    </script>
  </body>
</html>
